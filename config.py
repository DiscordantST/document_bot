"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏.
"""
import os
from pathlib import Path
from dotenv import load_dotenv

load_dotenv()

# Telegram Bot Token
BOT_TOKEN = os.getenv("BOT_TOKEN", "YOUR_BOT_TOKEN_HERE")

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
BASE_DIR = Path(__file__).parent
DB_PATH = BASE_DIR / "documents.db"

# –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
ALLOWED_EXTENSIONS = {
    # –î–æ–∫—É–º–µ–Ω—Ç—ã
    ".pdf", ".doc", ".docx", ".xls", ".xlsx", ".ppt", ".pptx",
    ".odt", ".ods", ".odp", ".rtf", ".txt",
    # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
    ".jpg", ".jpeg", ".png", ".gif", ".webp",
    # –ê—Ä—Ö–∏–≤—ã
    ".zip", ".rar", ".7z",
}

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (20 MB)
MAX_FILE_SIZE = 20 * 1024 * 1024

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
REMINDER_DAYS_BEFORE = [30, 7, 1]  # –ó–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å

# –õ–∏–º–∏—Ç—ã
MAX_DOCUMENTS_PER_USER = 100
MAX_TEMPLATES_PER_USER = 20
MAX_DOCUMENTS_PER_TEMPLATE = 50

# –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
MESSAGES = {
    "welcome": (
        "üëã –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.\n\n"
        "üìÑ –û—Ç–ø—Ä–∞–≤—å –º–Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç, –∏ —è –ø–æ–º–æ–≥—É —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ —Å –¥–∞—Ç–æ–π –æ–∫–æ–Ω—á–∞–Ω–∏—è.\n\n"
        "üìö –ò—Å–ø–æ–ª—å–∑—É–π /mydocs —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n"
        "üìÅ –ò—Å–ø–æ–ª—å–∑—É–π /templates —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —à–∞–±–ª–æ–Ω–∞–º–∏\n"
        "‚ùì –ò—Å–ø–æ–ª—å–∑—É–π /help –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏"
    ),
    "help": (
        "üìñ *–°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ—Ç—É*\n\n"
        "*–ö–æ–º–∞–Ω–¥—ã:*\n"
        "/start ‚Äî –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É\n"
        "/mydocs ‚Äî –ú–æ–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n"
        "/templates ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞–º–∏\n"
        "/cancel ‚Äî –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â—É—é –æ–ø–µ—Ä–∞—Ü–∏—é\n"
        "/help ‚Äî –≠—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞\n\n"
        "*–ö–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç:*\n"
        "1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –¥–æ–∫—É–º–µ–Ω—Ç–∞\n"
        "2. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ\n"
        "3. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞\n"
        "4. –í—ã–±–µ—Ä–∏—Ç–µ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n"
        "5. –í—ã–±–µ—Ä–∏—Ç–µ —à–∞–±–ª–æ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n\n"
        "*–®–∞–±–ª–æ–Ω—ã:*\n"
        "–®–∞–±–ª–æ–Ω—ã –ø–æ–º–æ–≥–∞—é—Ç –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã. "
        "–ù–∞–ø—Ä–∏–º–µ—Ä: '–ü–∞—Å–ø–æ—Ä—Ç', '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞', '–î–æ–≥–æ–≤–æ—Ä—ã'."
    ),
    "no_documents": "üì≠ –£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.\n\n–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Ñ–∞–π–ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å!",
    "no_templates": "üì≠ –£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç —à–∞–±–ª–æ–Ω–æ–≤.\n\n–ù–∞–∂–º–∏ ¬´‚ûï –°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω¬ª —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å.",
    "upload_start": "üìé –û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –≤–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞:",
    "upload_name_invalid": "‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ. –í–≤–µ–¥–∏ –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞:",
    "upload_select_start_date": "üìÖ –í—ã–±–µ—Ä–∏ –¥–∞—Ç—É –Ω–∞—á–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:",
    "upload_select_end_date": "üìÖ –í—ã–±–µ—Ä–∏ –¥–∞—Ç—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏):",
    "upload_select_template": "üìÅ –í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏):",
    "upload_success": "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç *{name}* —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω—ë–Ω!",
    "upload_cancelled": "‚ùå –ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.",
    "invalid_file_format": "‚ùå –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞.\n\n–†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: {formats}",
    "file_too_large": "‚ùå –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: {max_size} –ú–ë",
    "delete_confirm": "‚ö†Ô∏è –¢—ã —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —Ö–æ—á–µ—à—å —É–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç *{name}*?",
    "delete_success": "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —É–¥–∞–ª—ë–Ω.",
    "delete_cancelled": "‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ.",
    "delete_error": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç.",
    "edit_name_prompt": "‚úèÔ∏è –í–≤–µ–¥–∏ –Ω–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:",
    "edit_success": "‚úÖ –î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω!",
    "template_create_prompt": "üìÅ –í–≤–µ–¥–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –Ω–æ–≤–æ–≥–æ —à–∞–±–ª–æ–Ω–∞:",
    "template_created": "‚úÖ –®–∞–±–ª–æ–Ω *{name}* —Å–æ–∑–¥–∞–Ω!",
    "template_deleted": "‚úÖ –®–∞–±–ª–æ–Ω —É–¥–∞–ª—ë–Ω.",
    "template_name_exists": "‚ùå –®–∞–±–ª–æ–Ω —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.",
    "error_generic": "‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.",
    "limit_reached_documents": "‚ùå –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ ({limit}). –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.",
    "limit_reached_templates": "‚ùå –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç —à–∞–±–ª–æ–Ω–æ–≤ ({limit}).",
}

# –°–æ—Å—Ç–æ—è–Ω–∏—è ConversationHandler –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
class UploadStates:
    WAITING_NAME = 1
    WAITING_START_DATE = 2
    WAITING_END_DATE = 3
    WAITING_TEMPLATE = 4

# –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
class EditStates:
    WAITING_NEW_NAME = 10
    WAITING_NEW_START_DATE = 11
    WAITING_NEW_END_DATE = 12

# –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞
class TemplateStates:
    WAITING_NAME = 20
